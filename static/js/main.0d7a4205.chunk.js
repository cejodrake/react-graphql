(this.webpackJsonpreactgrapql2=this.webpackJsonpreactgrapql2||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(4),r=n.n(c),i=(n(9),n(2)),o={baseUrl:"https://api.github.com/graphql",username:"cejodrake",headers:{"Content-Type":"application/json",Authorization:"bearer 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"}},l=function(e,t,n,a){return{query:'\n     {\n       viewer {\n        name\n            }\n        search(query:" '.concat(t,' user:planetoftheweb sort:update-desc", type: REPOSITORY, ').concat(n," : ").concat(e,", ").concat(a,") {\n            repositoryCount\n            edges {\n              cursor \n               node{\n      ...on Repository {\n        name\n        description\n        id\n        url\n        viewerSubscription\n        licenseInfo {\n            spdxId\n        }\n      }\n    }\n            }\n          \n            pageInfo{\n              startCursor \n              endCursor\n              hasNextPage\n              hasPreviousPage\n            }\n\n   \n  }\n     }\n     ")}},d=n(0),b=function(e){var t=e.totalCount,n=e.pageCount,a=e.queryString,s=e.onTotalChange,c=e.onQueryChange;return Object(d.jsxs)("div",{className:"d-flex align-items-center bg-light px-3 py-2 small rounded-3",children:[Object(d.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[Object(d.jsx)("label",{htmlFor:"queryString",className:"me-2 fw-bold text-secondary",children:"Search"}),Object(d.jsx)("input",{id:"queryString",className:"form-control form-control-sm me-2",type:"text",value:a,onChange:function(e){c(e.target.value)}})]}),Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)("label",{htmlFor:"pageCount",className:"me-2 fw-bold text-secondary",children:"Show"}),Object(d.jsx)("input",{id:"pageCount",className:"form-control form-control-sm text-center me-2",type:"number",min:"1",max:"100",value:n,onChange:function(e){s(e.target.value)}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{className:"me-2 text-secondary",children:"Total:"}),t]})]})},u=function(e){var t=e.start,n=e.end,a=e.next,s=e.prev,c=e.onPage;return Object(d.jsxs)("div",{className:"d-flex  justify-content-center my-2",children:[s&&Object(d.jsx)("button",{className:"btn mx-1  btn-sm btn-primary  bi  bi-arrow-left",onClick:function(){return c("last",'before:  "'+t+'"')}}),a&&Object(d.jsx)("button",{className:"btn mx-1  btn-sm btn-primary  bi  bi-arrow-right",onClick:function(){return c("first",'after "'+n+'"')}})]})},j=function(e){var t,n,a=e.repo;switch(null===(t=a.licenseInfo)||void 0===t?void 0:t.spdxId){case void 0:n=Object(d.jsx)("span",{className:"px-1 py-0  ms-1  d-inline-block  btn-sm btn-danger",style:{fontSize:".6em"},children:"NO LICENCE"});break;case"NOASSERTION":n=Object(d.jsx)("span",{className:"px-1 py-0  ms-1  d-inline-block  btn-sm btn-warning",style:{fontSize:".6em"},children:a.licenseInfo.spdxId});break;default:n=Object(d.jsx)("span",{className:"px-1 py-0  ms-1  d-inline-block  btn-sm btn-outline",style:{fontSize:".6em"},children:a.licenseInfo.spdxId})}return Object(d.jsx)("li",{className:"list-group-item ",children:Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(d.jsxs)("div",{className:"d-flex  flex-column",children:[Object(d.jsx)("a",{className:"h5 mb0- text-decoration-none",href:a.url,children:a.name}),Object(d.jsx)("p",{className:"small",children:a.description})]}),Object(d.jsxs)("div",{className:"text-nowrap ms-3",children:[n,Object(d.jsx)("span",{className:"px-1 py-1 ms-1 d-inline-block  btn btn-sm "+("SUBSCRIBED"===a.viewerSubscription?"btn-success":"btn-outlet-secondary"),style:{fontSize:".6em"},children:a.viewerSubscription})]})]})},a.id.toString())};var m=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(i.a)(c,2),m=r[0],p=r[1],h=Object(a.useState)(10),x=Object(i.a)(h,2),f=x[0],O=x[1],g=Object(a.useState)(""),v=Object(i.a)(g,2),y=v[0],S=v[1],N=Object(a.useState)(null),C=Object(i.a)(N,2),I=C[0],w=C[1],k=Object(a.useState)(null),P=Object(i.a)(k,2),q=P[0],E=P[1],R=Object(a.useState)(null),T=Object(i.a)(R,2),z=T[0],A=T[1],J=Object(a.useState)(!1),U=Object(i.a)(J,2),B=U[0],F=U[1],L=Object(a.useState)(!0),M=Object(i.a)(L,2),Q=M[0],D=M[1],H=Object(a.useState)("first"),V=Object(i.a)(H,2),Y=V[0],_=V[1],G=Object(a.useState)(""),K=Object(i.a)(G,2),W=K[0],X=K[1],Z=Object(a.useCallback)((function(){var e=JSON.stringify(l(f,y,Y,W));fetch(o.baseUrl,{method:"POST",headers:o.headers,body:e}).then((function(e){return e.json()})).then((function(e){var t,n,a,c,r=e.data.viewer,i=e.data.search.edges,o=e.data.search.repositoryCount,l=null===(t=e.data.search.pageInfo)||void 0===t?void 0:t.startCursor,d=null===(n=e.data.search.pageInfo)||void 0===n?void 0:n.endCursor,b=null===(a=e.data.search.pageInfo)||void 0===a?void 0:a.hasNextPage,u=null===(c=e.data.search.pageInfo)||void 0===c?void 0:c.hasNextPage;p(i),s(r.name),w(o),E(l),A(d),D(b),F(u)})).catch((function(e){console.log(e)}))}),[f,y,W,Y]);return Object(a.useEffect)((function(){Z()}),[Z]),Object(d.jsxs)("div",{className:"App container mt-5",children:[Object(d.jsx)("h1",{className:"text-primary",children:Object(d.jsx)("i",{className:"bi bi-diagram-2-fill",children:"Repos"})}),Object(d.jsxs)("p",{children:["Hey there is : ",n]}),Object(d.jsx)(b,{totalCount:I,pageCount:f,queryString:y,onTotalChange:function(e){return O(e)},onQueryChange:function(e){return S(e)}}),Object(d.jsx)(u,{start:q,end:z,next:Q,prev:B,onPage:function(e,t){_(e),X(t)}}),m&&m.map((function(e){return Object(d.jsx)(j,{repo:e.node},e.node.id)}))]})};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.0d7a4205.chunk.js.map