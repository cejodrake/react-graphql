{"version":3,"sources":["db.js","Query.js","SearchBox.js","NavButtons.js","RepoInfo.js","App.js","index.js"],"names":["github","baseUrl","username","headers","Authorization","githubQuery","pageCount","queryString","paginationKeyword","paginationString","query","SearchBox","totalCount","onTotalChange","onQueryChange","className","htmlFor","id","type","value","onChange","e","target","min","max","NavButtons","start","end","next","prev","onPage","onClick","RepoInfo","license","repo","licenseInfo","spdxId","undefined","style","fontSize","href","url","name","description","viewerSubscription","toString","App","useState","userName","setUserName","repoList","setRepoList","setPageCount","setQueryString","setTotalCount","startCursor","setStartCursor","endCursor","setEndCursor","hasPreviousPage","setHasPreviousPage","hasNextPage","setHasNextPage","setPaginationKeyword","setPaginationString","fetchData","useCallback","queryText","JSON","stringify","fetch","method","body","then","response","json","data","viewer","repos","search","edges","total","repositoryCount","pageInfo","catch","error","console","log","useEffect","myNumber","myQueryString","myKeyword","myString","map","node","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cc77b752.chunk.js","sourcesContent":["const github = {\n  baseUrl: \"https://api.github.com/graphql\",\n  username: \"cejodrake\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: \"bearer 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\"\n  }\n};\n\nexport default github;\n","const githubQuery = (\n  pageCount,\n  queryString,\n  paginationKeyword,\n  paginationString\n) => {\n  return {\n    query: `\n     {\n       viewer {\n        name\n            }\n        search(query:\" ${queryString} user:planetoftheweb sort:update-desc\", type: REPOSITORY, ${paginationKeyword} : ${pageCount}, ${paginationString}) {\n            repositoryCount\n            edges {\n              cursor \n               node{\n      ...on Repository {\n        name\n        description\n        id\n        url\n        viewerSubscription\n        licenseInfo {\n            spdxId\n        }\n      }\n    }\n            }\n          \n            pageInfo{\n              startCursor \n              endCursor\n              hasNextPage\n              hasPreviousPage\n            }\n\n   \n  }\n     }\n     `\n  };\n};\n\nexport default githubQuery;\n","const SearchBox = ({\n  totalCount,\n  pageCount,\n  queryString,\n  onTotalChange,\n  onQueryChange\n}) => {\n  return (\n    <div className=\"d-flex align-items-center bg-light px-3 py-2 small rounded-3\">\n      <div className=\"d-flex align-items-center flex-grow-1\">\n        <label htmlFor=\"queryString\" className=\"me-2 fw-bold text-secondary\">\n          Search\n        </label>\n        <input\n          id=\"queryString\"\n          className=\"form-control form-control-sm me-2\"\n          type=\"text\"\n          value={queryString}\n          onChange={e => {\n            onQueryChange(e.target.value);\n          }}\n        />\n      </div>\n      <div className=\"d-flex align-items-center\">\n        <label htmlFor=\"pageCount\" className=\"me-2 fw-bold text-secondary\">\n          Show\n        </label>\n        <input\n          id=\"pageCount\"\n          className=\"form-control form-control-sm text-center me-2\"\n          type=\"number\"\n          min=\"1\"\n          max=\"100\"\n          value={pageCount}\n          onChange={e => {\n            onTotalChange(e.target.value);\n          }}\n        />\n      </div>\n      <div>\n        <b className=\"me-2 text-secondary\">Total:</b>\n        {totalCount}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchBox;\n","const NavButtons = ({ start, end, next, prev, onPage }) => {\n  return (\n    <div className=\"d-flex  justify-content-center my-2\">\n      {prev && (\n        <button\n          className=\"btn mx-1  btn-sm btn-primary  bi  bi-arrow-left\"\n          onClick={() => onPage(\"last\", 'before:  \"' + start + '\"')}\n        ></button>\n      )}\n\n      {next && (\n        <button\n          className=\"btn mx-1  btn-sm btn-primary  bi  bi-arrow-right\"\n          onClick={() => onPage(\"first\", 'after \"' + end + '\"')}\n        ></button>\n      )}\n    </div>\n  );\n};\n\nexport default NavButtons;\n","const RepoInfo = ({ repo }) => {\n  let license;\n  switch (repo.licenseInfo?.spdxId) {\n    case undefined:\n      license = (\n        <span\n          className=\"px-1 py-0  ms-1  d-inline-block  btn-sm btn-danger\"\n          style={{ fontSize: \".6em\" }}\n        >\n          NO LICENCE\n        </span>\n      );\n      break;\n    case \"NOASSERTION\":\n      license = (\n        <span\n          className=\"px-1 py-0  ms-1  d-inline-block  btn-sm btn-warning\"\n          style={{ fontSize: \".6em\" }}\n        >\n          {repo.licenseInfo.spdxId}\n        </span>\n      );\n      break;\n\n    default:\n      license = (\n        <span\n          className=\"px-1 py-0  ms-1  d-inline-block  btn-sm btn-outline\"\n          style={{ fontSize: \".6em\" }}\n        >\n          {repo.licenseInfo.spdxId}\n        </span>\n      );\n  }\n\n  return (\n    <li className=\"list-group-item \" key={repo.id.toString()}>\n      <div className=\"d-flex justify-content-between align-items-center\">\n        <div className=\"d-flex  flex-column\">\n          <a className=\"h5 mb0- text-decoration-none\" href={repo.url}>\n            {repo.name}\n          </a>\n          <p className=\"small\">{repo.description}</p>\n        </div>\n\n        <div className=\"text-nowrap ms-3\">\n          {license}\n          <span\n            className={\n              \"px-1 py-1 ms-1 d-inline-block  btn btn-sm \" +\n              (repo.viewerSubscription === \"SUBSCRIBED\"\n                ? \"btn-success\"\n                : \"btn-outlet-secondary\")\n            }\n            style={{ fontSize: \".6em\" }}\n          >\n            {repo.viewerSubscription}\n          </span>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default RepoInfo;\n","import github from \"./db\";\n\nimport { useEffect, useState, useCallback } from \"react\";\n\nimport query from \"./Query\";\nimport SearchBox from \"./SearchBox\";\nimport NavButtons from \"./NavButtons\";\nimport RepoInfo from \"./RepoInfo\";\n\nfunction App() {\n  const [userName, setUserName] = useState(\"\");\n  const [repoList, setRepoList] = useState(null);\n  const [pageCount, setPageCount] = useState(10);\n  const [queryString, setQueryString] = useState(\"\");\n  const [totalCount, setTotalCount] = useState(null);\n\n  const [startCursor, setStartCursor] = useState(null);\n  const [endCursor, setEndCursor] = useState(null);\n  const [hasPreviousPage, setHasPreviousPage] = useState(false);\n  const [hasNextPage, setHasNextPage] = useState(true);\n  const [paginationKeyword, setPaginationKeyword] = useState(\"first\");\n  const [paginationString, setPaginationString] = useState(\"\");\n\n  const fetchData = useCallback(() => {\n    const queryText = JSON.stringify(\n      query(pageCount, queryString, paginationKeyword, paginationString)\n    );\n    fetch(github.baseUrl, {\n      method: \"POST\",\n      headers: github.headers,\n      body: queryText\n    })\n      .then(response => response.json())\n      .then(data => {\n        const viewer = data.data.viewer;\n        const repos = data.data.search.edges;\n        const total = data.data.search.repositoryCount;\n        const start = data.data.search.pageInfo?.startCursor;\n        const end = data.data.search.pageInfo?.endCursor;\n        const next = data.data.search.pageInfo?.hasNextPage;\n        const prev = data.data.search.pageInfo?.hasNextPage;\n        setRepoList(repos);\n        setUserName(viewer.name);\n        setTotalCount(total);\n        setStartCursor(start);\n        setEndCursor(end);\n        setHasNextPage(next);\n        setHasPreviousPage(prev);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [pageCount, queryString, paginationString, paginationKeyword]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return (\n    <div className=\"App container mt-5\">\n      <h1 className=\"text-primary\">\n        <i className=\"bi bi-diagram-2-fill\">Repos</i>\n      </h1>\n      <p>Hey there is : {userName}</p>\n\n      <SearchBox\n        totalCount={totalCount}\n        pageCount={pageCount}\n        queryString={queryString}\n        onTotalChange={myNumber => setPageCount(myNumber)}\n        onQueryChange={myQueryString => setQueryString(myQueryString)}\n      />\n      <NavButtons\n        start={startCursor}\n        end={endCursor}\n        next={hasNextPage}\n        prev={hasPreviousPage}\n        onPage={(myKeyword, myString) => {\n          setPaginationKeyword(myKeyword);\n          setPaginationString(myString);\n        }}\n      />\n      {repoList &&\n        repoList.map(repo => <RepoInfo key={repo.node.id} repo={repo.node} />)}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./custom.scss\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}