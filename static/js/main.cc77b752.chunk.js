(this.webpackJsonpreactgrapql2=this.webpackJsonpreactgrapql2||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(4),r=n.n(c),i=(n(9),n(2)),o={baseUrl:"https://api.github.com/graphql",username:"cejodrake",headers:{"Content-Type":"application/json",Authorization:"bearer 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"}},l=function(e,t,n,a){return{query:'\n     {\n       viewer {\n        name\n            }\n        search(query:" '.concat(t,' user:planetoftheweb sort:update-desc", type: REPOSITORY, ').concat(n," : ").concat(e,", ").concat(a,") {\n            repositoryCount\n            edges {\n              cursor \n               node{\n      ...on Repository {\n        name\n        description\n        id\n        url\n        viewerSubscription\n        licenseInfo {\n            spdxId\n        }\n      }\n    }\n            }\n          \n            pageInfo{\n              startCursor \n              endCursor\n              hasNextPage\n              hasPreviousPage\n            }\n\n   \n  }\n     }\n     ")}},b=n(0),d=function(e){var t=e.totalCount,n=e.pageCount,a=e.queryString,s=e.onTotalChange,c=e.onQueryChange;return Object(b.jsxs)("div",{className:"d-flex align-items-center bg-light px-3 py-2 small rounded-3",children:[Object(b.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[Object(b.jsx)("label",{htmlFor:"queryString",className:"me-2 fw-bold text-secondary",children:"Search"}),Object(b.jsx)("input",{id:"queryString",className:"form-control form-control-sm me-2",type:"text",value:a,onChange:function(e){c(e.target.value)}})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("label",{htmlFor:"pageCount",className:"me-2 fw-bold text-secondary",children:"Show"}),Object(b.jsx)("input",{id:"pageCount",className:"form-control form-control-sm text-center me-2",type:"number",min:"1",max:"100",value:n,onChange:function(e){s(e.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{className:"me-2 text-secondary",children:"Total:"}),t]})]})},u=function(e){var t=e.start,n=e.end,a=e.next,s=e.prev,c=e.onPage;return Object(b.jsxs)("div",{className:"d-flex  justify-content-center my-2",children:[s&&Object(b.jsx)("button",{className:"btn mx-1  btn-sm btn-primary  bi  bi-arrow-left",onClick:function(){return c("last",'before:  "'+t+'"')}}),a&&Object(b.jsx)("button",{className:"btn mx-1  btn-sm btn-primary  bi  bi-arrow-right",onClick:function(){return c("first",'after "'+n+'"')}})]})},j=function(e){var t,n,a=e.repo;switch(null===(t=a.licenseInfo)||void 0===t?void 0:t.spdxId){case void 0:n=Object(b.jsx)("span",{className:"px-1 py-0  ms-1  d-inline-block  btn-sm btn-danger",style:{fontSize:".6em"},children:"NO LICENCE"});break;case"NOASSERTION":n=Object(b.jsx)("span",{className:"px-1 py-0  ms-1  d-inline-block  btn-sm btn-warning",style:{fontSize:".6em"},children:a.licenseInfo.spdxId});break;default:n=Object(b.jsx)("span",{className:"px-1 py-0  ms-1  d-inline-block  btn-sm btn-outline",style:{fontSize:".6em"},children:a.licenseInfo.spdxId})}return Object(b.jsx)("li",{className:"list-group-item ",children:Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(b.jsxs)("div",{className:"d-flex  flex-column",children:[Object(b.jsx)("a",{className:"h5 mb0- text-decoration-none",href:a.url,children:a.name}),Object(b.jsx)("p",{className:"small",children:a.description})]}),Object(b.jsxs)("div",{className:"text-nowrap ms-3",children:[n,Object(b.jsx)("span",{className:"px-1 py-1 ms-1 d-inline-block  btn btn-sm "+("SUBSCRIBED"===a.viewerSubscription?"btn-success":"btn-outlet-secondary"),style:{fontSize:".6em"},children:a.viewerSubscription})]})]})},a.id.toString())};var m=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(i.a)(c,2),m=r[0],p=r[1],h=Object(a.useState)(10),x=Object(i.a)(h,2),O=x[0],f=x[1],g=Object(a.useState)(""),v=Object(i.a)(g,2),y=v[0],S=v[1],N=Object(a.useState)(null),C=Object(i.a)(N,2),I=C[0],w=C[1],k=Object(a.useState)(null),P=Object(i.a)(k,2),q=P[0],E=P[1],T=Object(a.useState)(null),R=Object(i.a)(T,2),z=R[0],A=R[1],H=Object(a.useState)(!1),B=Object(i.a)(H,2),J=B[0],Q=B[1],U=Object(a.useState)(!0),F=Object(i.a)(U,2),Z=F[0],D=F[1],L=Object(a.useState)("first"),M=Object(i.a)(L,2),V=M[0],X=M[1],Y=Object(a.useState)(""),_=Object(i.a)(Y,2),G=_[0],K=_[1],W=Object(a.useCallback)((function(){var e=JSON.stringify(l(O,y,V,G));fetch(o.baseUrl,{method:"POST",headers:o.headers,body:e}).then((function(e){return e.json()})).then((function(e){var t,n,a,c,r=e.data.viewer,i=e.data.search.edges,o=e.data.search.repositoryCount,l=null===(t=e.data.search.pageInfo)||void 0===t?void 0:t.startCursor,b=null===(n=e.data.search.pageInfo)||void 0===n?void 0:n.endCursor,d=null===(a=e.data.search.pageInfo)||void 0===a?void 0:a.hasNextPage,u=null===(c=e.data.search.pageInfo)||void 0===c?void 0:c.hasNextPage;p(i),s(r.name),w(o),E(l),A(b),D(d),Q(u)})).catch((function(e){console.log(e)}))}),[O,y,G,V]);return Object(a.useEffect)((function(){W()}),[W]),Object(b.jsxs)("div",{className:"App container mt-5",children:[Object(b.jsx)("h1",{className:"text-primary",children:Object(b.jsx)("i",{className:"bi bi-diagram-2-fill",children:"Repos"})}),Object(b.jsxs)("p",{children:["Hey there is : ",n]}),Object(b.jsx)(d,{totalCount:I,pageCount:O,queryString:y,onTotalChange:function(e){return f(e)},onQueryChange:function(e){return S(e)}}),Object(b.jsx)(u,{start:q,end:z,next:Z,prev:J,onPage:function(e,t){X(e),K(t)}}),m&&m.map((function(e){return Object(b.jsx)(j,{repo:e.node},e.node.id)}))]})};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.cc77b752.chunk.js.map